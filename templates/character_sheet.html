{% extends "layout.html" %}

{% block title %}Lecteur Omniscient - CrÃ©er votre fiche de personnage{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/character_sheet.css') }}">
{% endblock %}

{% block content %}
<section class="character-sheet-header">
    <div class="container">
        <h1>CrÃ©er votre incarnation</h1>
        <p class="subtitle">ComplÃ©tez les informations ci-dessous pour rejoindre le Star Stream</p>
    </div>
</section>

<section class="character-sheet-form">
    <div class="container">
        <div class="form-wrapper">
            <form id="character-form" action="{{ url_for('character_sheet') }}" method="post">
                <!-- Onglets de navigation -->
                <div class="tabs">
                    <button type="button" class="tab-btn active" data-tab="basic-info">Informations de base</button>
                    <button type="button" class="tab-btn" data-tab="character">CaractÃ¨re</button>
                    <button type="button" class="tab-btn" data-tab="appearance">Apparence</button>
                    <button type="button" class="tab-btn" data-tab="abilities">CompÃ©tences</button>
                    <button type="button" class="tab-btn" data-tab="constellation">Constellation</button>
                    <button type="button" class="tab-btn" data-tab="history">Histoire</button>
                </div>
                
                <!-- Section Informations de base -->
                <div class="tab-content active" id="basic-info">
                    <h3>ð’†œ - Informations de base</h3>
                    
                    <div class="form-group">
                        <label for="character-name">Nom</label>
                        <input type="text" id="character-name" name="character-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-firstname">PrÃ©nom</label>
                        <input type="text" id="character-firstname" name="character-firstname" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-age">Ã‚ge</label>
                        <input type="number" id="character-age" name="character-age" min="16" max="100" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-birthday">Date de naissance</label>
                        <input type="text" id="character-birthday" name="character-birthday" placeholder="Ex: 21 juin AAAA">
                    </div>
                    
                    <div class="form-group">
                        <label for="character-gender">Sexe</label>
                        <select id="character-gender" name="character-gender" required>
                            <option value="">SÃ©lectionnez</option>
                            <option value="Masculin">Masculin</option>
                            <option value="FÃ©minin">FÃ©minin</option>
                            <option value="Autre">Autre</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-orientation">Orientation</label>
                        <input type="text" id="character-orientation" name="character-orientation">
                    </div>
                    
                    <div class="nav-buttons">
                        <button type="button" class="next-btn" data-next="character">Suivant</button>
                    </div>
                </div>
                
                <!-- Section CaractÃ¨re -->
                <div class="tab-content" id="character">
                    <h3>ð’†œ - CaractÃ¨re</h3>
                    
                    <div class="form-group">
                        <label for="character-trait1">Trait de caractÃ¨re 1</label>
                        <textarea id="character-trait1" name="character-trait1" rows="3" placeholder="Ex: RÃ©servÃ© et pragmatique"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-trait2">Trait de caractÃ¨re 2</label>
                        <textarea id="character-trait2" name="character-trait2" rows="3" placeholder="Ex: LoyautÃ© sÃ©lective"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-trait3">Trait de caractÃ¨re 3</label>
                        <textarea id="character-trait3" name="character-trait3" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-trait4">Trait de caractÃ¨re 4</label>
                        <textarea id="character-trait4" name="character-trait4" rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="character-trait5">Trait de caractÃ¨re 5</label>
                        <textarea id="character-trait5" name="character-trait5" rows="3"></textarea>
                    </div>
                    
                    <h3>ð’†œ - GoÃ»ts</h3>
                    
                    <div class="form-group">
                        <textarea id="character-tastes" name="character-tastes" rows="5" placeholder="DÃ©crivez les goÃ»ts et prÃ©fÃ©rences de votre personnage"></textarea>
                    </div>
                    
                    <h3>ð’†œ - Passions</h3>
                    
                    <div class="form-group">
                        <textarea id="character-passions" name="character-passions" rows="5" placeholder="DÃ©crivez les passions et intÃ©rÃªts de votre personnage"></textarea>
                    </div>
                    
                    <div class="nav-buttons">
                        <button type="button" class="prev-btn" data-prev="basic-info">PrÃ©cÃ©dent</button>
                        <button type="button" class="next-btn" data-next="appearance">Suivant</button>
                    </div>
                </div>
                
                <!-- Section Apparence -->
                <div class="tab-content" id="appearance">
                    <h3>ð’†œ - Description physique</h3>
                    
                    <div class="form-group">
                        <textarea id="physical-description" name="physical-description" rows="6" placeholder="DÃ©crivez l'apparence physique de votre personnage (taille, silhouette, posture, etc.)"></textarea>
                    </div>
                    
                    <h3>ð’†œ - Signe distinctif</h3>
                    
                    <div class="form-group">
                        <textarea id="distinctive-signs" name="distinctive-signs" rows="4" placeholder="DÃ©crivez les signes distinctifs de votre personnage (cicatrices, marques, particularitÃ©s physiques, etc.)"></textarea>
                    </div>
                    
                    <div class="nav-buttons">
                        <button type="button" class="prev-btn" data-prev="character">PrÃ©cÃ©dent</button>
                        <button type="button" class="next-btn" data-next="abilities">Suivant</button>
                    </div>
                </div>
                
                <!-- Section CompÃ©tences -->
                <div class="tab-content" id="abilities">
                    <h3>ð’†œ - CompÃ©tences gÃ©nÃ©rales</h3>
                    
                    <div class="skills-container">
                        <div class="form-group">
                            <label for="vitality">VitalitÃ©</label>
                            <div class="skill-level">
                                <input type="range" id="vitality" name="vitality" min="1" max="10" value="1">
                                <span class="level-display">1</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="physical-strength">Force physique</label>
                            <div class="skill-level">
                                <input type="range" id="physical-strength" name="physical-strength" min="1" max="10" value="1">
                                <span class="level-display">1</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="agility">AgilitÃ©</label>
                            <div class="skill-level">
                                <input type="range" id="agility" name="agility" min="1" max="10" value="1">
                                <span class="level-display">1</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="magical-strength">Force magique</label>
                            <div class="skill-level">
                                <input type="range" id="magical-strength" name="magical-strength" min="1" max="10" value="1">
                                <span class="level-display">1</span>
                            </div>
                        </div>
                    </div>
                    
                    <h3>ð’†œ - CompÃ©tences spÃ©ciales</h3>
                    
                    <div id="special-skills-container">
                        <div class="special-skill">
                            <div class="form-group">
                                <input type="text" name="special-skill-name[]" placeholder="Nom de la compÃ©tence">
                                <div class="skill-level">
                                    <label>Niveau: </label>
                                    <input type="number" name="special-skill-level[]" min="1" max="10" value="1">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button type="button" id="add-special-skill" class="add-btn">+ Ajouter une compÃ©tence</button>
                    
                    <h3>ð’†œ - CaractÃ©ristiques</h3>
                    
                    <div id="characteristics-container">
                        <div class="characteristic">
                            <div class="form-group">
                                <input type="text" name="characteristic-name[]" placeholder="Nom de la caractÃ©ristique">
                                <select name="characteristic-rarity[]">
                                    <option value="">RaretÃ©</option>
                                    <option value="Commune">Commune</option>
                                    <option value="Rare">Rare</option>
                                    <option value="Unique">Unique</option>
                                    <option value="LÃ©gendaire">LÃ©gendaire</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <button type="button" id="add-characteristic" class="add-btn">+ Ajouter une caractÃ©ristique</button>
                    
                    <div class="nav-buttons">
                        <button type="button" class="prev-btn" data-prev="appearance">PrÃ©cÃ©dent</button>
                        <button type="button" class="next-btn" data-next="constellation">Suivant</button>
                    </div>
                </div>
                
                <!-- Section Constellation -->
                <div class="tab-content" id="constellation">
                    <h3>ð’†œ - Constellation sponsor</h3>
                    
                    <div class="form-group">
                        <input type="text" id="constellation-name" name="constellation-name" placeholder="Nom de la constellation">
                    </div>
                    
                    <h3>ð’†œ - Rang de la constellation</h3>
                    
                    <div class="form-group">
                        <select id="constellation-rank" name="constellation-rank">
                            <option value="">SÃ©lectionnez</option>
                            <option value="Historique">Historique (Rang infÃ©rieur)</option>
                            <option value="Haut-rang">Haut-rang</option>
                            <option value="LÃ©gendaire">LÃ©gendaire (Narrative)</option>
                            <option value="Mythique">Mythique</option>
                        </select>
                    </div>
                    
                    <h3>ð’†œ - Marques de la constellation</h3>
                    
                    <div id="constellation-marks-container">
                        <div class="constellation-mark">
                            <div class="form-group">
                                <input type="text" name="constellation-mark[]" placeholder="Nom et description de la marque">
                            </div>
                        </div>
                    </div>
                    
                    <button type="button" id="add-constellation-mark" class="add-btn">+ Ajouter une marque</button>
                    
                    <div class="nav-buttons">
                        <button type="button" class="prev-btn" data-prev="abilities">PrÃ©cÃ©dent</button>
                        <button type="button" class="next-btn" data-next="history">Suivant</button>
                    </div>
                </div>
                
                <!-- Section Histoire -->
                <div class="tab-content" id="history">
                    <h3>ð’†œ - Histoire</h3>
                    
                    <div class="form-group">
                        <textarea id="character-history" name="character-history" rows="15" placeholder="Racontez l'histoire de votre personnage, son passÃ©, ses motivations et comment l'apocalypse l'a affectÃ©."></textarea>
                    </div>
                    
                    <div class="nav-buttons">
                        <button type="button" class="prev-btn" data-prev="constellation">PrÃ©cÃ©dent</button>
                        <button type="submit" class="submit-btn">CrÃ©er votre personnage</button>
                    </div>
                </div>
            </form>
        </div>
        
        <!-- PrÃ©visualisation de la fiche -->
        <div class="preview-wrapper">
            <div class="preview-header">
                <h3>PrÃ©visualisation</h3>
                <button id="toggle-preview" type="button">Afficher/Masquer</button>
                <button id="export-markdown" type="button">Exporter en Markdown</button>
            </div>
            
            <div id="character-preview" class="character-sheet-preview">
                <h2><span id="preview-firstname">PrÃ©nom</span> <span id="preview-name">Nom</span></h2>
                
                <div class="preview-section">
                    <h3>ð’†œ - Informations de base</h3>
                    <ul>
                        <li><strong>Nom:</strong> <span id="preview-name-value">â€”</span></li>
                        <li><strong>PrÃ©nom:</strong> <span id="preview-firstname-value">â€”</span></li>
                        <li><strong>Ã‚ge:</strong> <span id="preview-age">â€”</span></li>
                        <li><strong>Date de naissance:</strong> <span id="preview-birthday">â€”</span></li>
                        <li><strong>Sexe:</strong> <span id="preview-gender">â€”</span></li>
                        <li><strong>Orientation:</strong> <span id="preview-orientation">â€”</span></li>
                    </ul>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - CaractÃ¨re</h3>
                    <ul id="preview-traits">
                        <li>â€”</li>
                    </ul>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - GoÃ»ts</h3>
                    <p id="preview-tastes">â€”</p>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - Passions</h3>
                    <p id="preview-passions">â€”</p>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - Description physique</h3>
                    <p id="preview-physical">â€”</p>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - Signe distinctif</h3>
                    <p id="preview-distinctive">â€”</p>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - CompÃ©tences gÃ©nÃ©rales</h3>
                    <ul>
                        <li><strong>VitalitÃ©:</strong> <span id="preview-vitality">1</span></li>
                        <li><strong>Force physique:</strong> <span id="preview-physical-strength">1</span></li>
                        <li><strong>AgilitÃ©:</strong> <span id="preview-agility">1</span></li>
                        <li><strong>Force magique:</strong> <span id="preview-magical-strength">1</span></li>
                    </ul>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - CompÃ©tences spÃ©ciales</h3>
                    <ul id="preview-special-skills">
                        <li>â€”</li>
                    </ul>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - CaractÃ©ristiques</h3>
                    <ul id="preview-characteristics">
                        <li>â€”</li>
                    </ul>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - Constellation sponsor</h3>
                    <p id="preview-constellation">â€”</p>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - Rang de la constellation</h3>
                    <p id="preview-constellation-rank">â€”</p>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - Marques de la constellation</h3>
                    <ul id="preview-constellation-marks">
                        <li>â€”</li>
                    </ul>
                </div>
                
                <div class="preview-section">
                    <h3>ð’†œ - Histoire</h3>
                    <div id="preview-history">â€”</div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="tips-section">
    <div class="container">
        <h2>Conseils pour crÃ©er votre personnage</h2>
        
        <div class="tips-grid">
            <div class="tip-card">
                <h4>Ã‰quilibrez vos compÃ©tences</h4>
                <p>Un personnage avec des compÃ©tences Ã©quilibrÃ©es aura plus de chances de survivre dans diffÃ©rentes situations du Star Stream.</p>
            </div>
            
            <div class="tip-card">
                <h4>Choisissez une constellation adaptÃ©e</h4>
                <p>Votre constellation sponsor devrait complÃ©ter le style et l'histoire de votre personnage.</p>
            </div>
            
            <div class="tip-card">
                <h4>DÃ©veloppez une histoire cohÃ©rente</h4>
                <p>Une histoire solide expliquant comment votre personnage a vÃ©cu avant et pendant l'apocalypse rendra votre fiche plus immersive.</p>
            </div>
            
            <div class="tip-card">
                <h4>Ajoutez des dÃ©tails distinctifs</h4>
                <p>Les traits de caractÃ¨re uniques et les signes distinctifs aideront votre personnage Ã  se dÃ©marquer.</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/character_sheet.js') }}"></script>
{% endblock %}